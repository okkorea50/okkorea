import{r as d,j as e,D as b,U as f,P as g,t as j,e as y,E as w,F as N,J as v,K as F,k as B,N as k}from"./vendor-CCPAAOiH.js";import{d as C}from"./index-eZVNnDDH.js";const D=()=>{const[s,m]=d.useState({name:"",mobile:"",email:"",nationality:"",message:""}),[t,u]=d.useState(null),[n,l]=d.useState("idle"),x=d.useRef(null),i=a=>{const{name:o,value:c}=a.target;m(r=>({...r,[o]:c}))},h=a=>{a.target.files&&a.target.files[0]&&u(a.target.files[0])},p=async a=>{a.preventDefault(),l("loading");try{const o=await F(B(C,"consultations"),{...s,hasAttachment:!!t,fileName:t?t.name:null,createdAt:k(),status:"new"});console.log("Consultation saved with ID: ",o.id);const c="https://hook.eu1.make.com/2jtlxg7vgm5zjwypzaijy0yn5il1sdkn";try{console.log("Sending data to Webhook:",c);const r=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:o.id,...s,hasAttachment:!!t,fileName:t?t.name:null,timestamp:new Date().toISOString()})});r.ok?console.log("Make.com Webhook reported SUCCESS"):console.error("Make.com Webhook reported ERROR:",r.status)}catch(r){console.error("Webhook network error:",r)}l("success"),m({name:"",mobile:"",email:"",nationality:"",message:""}),u(null),setTimeout(()=>l("idle"),5e3)}catch(o){console.error("Error adding document: ",o),l("error"),setTimeout(()=>l("idle"),5e3)}};return e.jsxs("section",{id:"consultation",className:"relative py-16 px-6 md:px-12 bg-[#0B0C15] overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/4 -left-20 w-80 h-80 bg-[#FBBF24]/5 rounded-full blur-[100px]"}),e.jsx("div",{className:"absolute bottom-1/4 -right-20 w-80 h-80 bg-[#7C3AED]/5 rounded-full blur-[100px]"}),e.jsxs("div",{className:"max-w-2xl mx-auto relative z-10",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-white tracking-tight",children:["Visa ",e.jsx("span",{className:"text-[#FBBF24]",children:"Consulting"})]}),e.jsx("p",{className:"text-slate-400 text-base max-w-xl mx-auto leading-relaxed",children:"Expert guidance for your Korean journey. Fill out the form below, and our specialists will get back to you within 24 hours."})]}),e.jsx("div",{className:"bg-[#13141C] p-6 md:p-8 rounded-2xl border border-white/5 shadow-2xl",children:n==="success"?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center animate-fade-in",children:[e.jsx(b,{size:80,className:"text-[#FBBF24] mb-6 animate-bounce"}),e.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"Request Submitted!"}),e.jsx("p",{className:"text-slate-400 text-lg",children:"Thank you for your interest. We will review your details and contact you via email or phone shortly."}),e.jsx("button",{onClick:()=>l("idle"),className:"mt-8 px-8 py-3 bg-white/5 hover:bg-white/10 text-white rounded-full transition-all",children:"Send another request"})]}):e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-400 block ml-1",children:"Full Name *"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-[#FBBF24] transition-colors",children:e.jsx(f,{size:20})}),e.jsx("input",{required:!0,type:"text",name:"name",value:s.name,onChange:i,placeholder:"John Doe",className:"w-full bg-[#0B0C15] border border-white/10 rounded-xl py-3 pl-11 pr-4 text-white text-sm placeholder:text-slate-600 focus:outline-none focus:border-[#FBBF24]/50 focus:ring-1 focus:ring-[#FBBF24]/50 transition-all shadow-inner"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-400 block ml-1",children:"Mobile Number *"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-[#FBBF24] transition-colors",children:e.jsx(g,{size:20})}),e.jsx("input",{required:!0,type:"tel",name:"mobile",value:s.mobile,onChange:i,placeholder:"+82 10-XXXX-XXXX",className:"w-full bg-[#0B0C15] border border-white/10 rounded-xl py-3 pl-11 pr-4 text-white text-sm placeholder:text-slate-600 focus:outline-none focus:border-[#FBBF24]/50 focus:ring-1 focus:ring-[#FBBF24]/50 transition-all shadow-inner"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-400 block ml-1",children:"Email Address *"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-[#FBBF24] transition-colors",children:e.jsx(j,{size:20})}),e.jsx("input",{required:!0,type:"email",name:"email",value:s.email,onChange:i,placeholder:"john@example.com",className:"w-full bg-[#0B0C15] border border-white/10 rounded-xl py-3 pl-11 pr-4 text-white text-sm placeholder:text-slate-600 focus:outline-none focus:border-[#FBBF24]/50 focus:ring-1 focus:ring-[#FBBF24]/50 transition-all shadow-inner"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-400 block ml-1",children:"Nationality *"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-[#FBBF24] transition-colors",children:e.jsx(y,{size:20})}),e.jsx("input",{required:!0,type:"text",name:"nationality",value:s.nationality,onChange:i,placeholder:"e.g. Nepal, USA, Vietnam",className:"w-full bg-[#0B0C15] border border-white/10 rounded-xl py-3 pl-11 pr-4 text-white text-sm placeholder:text-slate-600 focus:outline-none focus:border-[#FBBF24]/50 focus:ring-1 focus:ring-[#FBBF24]/50 transition-all shadow-inner"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-400 block ml-1",children:"Additional Message (Optional)"}),e.jsx("textarea",{name:"message",value:s.message,onChange:i,rows:"4",placeholder:"Briefly describe your visa requirements...",className:"w-full bg-[#0B0C15] border border-white/10 rounded-xl py-3 px-4 text-white text-sm placeholder:text-slate-600 focus:outline-none focus:border-[#FBBF24]/50 focus:ring-1 focus:ring-[#FBBF24]/50 transition-all shadow-inner resize-none"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-400 block ml-1",children:"Upload Documents (Optional)"}),e.jsxs("div",{onClick:()=>x.current.click(),className:"w-full border-2 border-dashed border-white/10 rounded-xl py-6 flex flex-col items-center justify-center gap-2 cursor-pointer hover:border-[#FBBF24]/40 hover:bg-white/[0.02] transition-all group",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center text-slate-400 group-hover:text-[#FBBF24] group-hover:bg-[#FBBF24]/10 transition-all",children:e.jsx(w,{size:24})}),e.jsxs("div",{className:"text-center px-4",children:[e.jsx("p",{className:"text-white font-medium",children:t?t.name:"Click to upload passport or documents"}),e.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Max file size: 5MB (PDF, JPG, PNG)"})]}),e.jsx("input",{type:"file",ref:x,onChange:h,className:"hidden",accept:".pdf,.jpg,.jpeg,.png"})]})]}),e.jsx("button",{type:"submit",disabled:n==="loading",className:"w-full bg-[#FBBF24] hover:bg-[#FBBF24]/90 disabled:bg-slate-700 disabled:cursor-not-allowed text-[#080812] font-bold py-4 rounded-xl flex items-center justify-center gap-3 transition-all active:scale-[0.98] shadow-[0_0_30px_rgba(251,191,36,0.2)] mt-6 text-base",children:n==="loading"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-[#080812]/20 border-t-[#080812] rounded-full animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(N,{size:22}),"Submit Consultation Request"]})}),n==="error"&&e.jsxs("div",{className:"flex items-center gap-2 text-red-500 justify-center animate-shake mt-4 bg-red-500/10 py-3 rounded-xl border border-red-500/20",children:[e.jsx(v,{size:20}),e.jsx("span",{children:"Failed to send. Please try again or check your connection."})]})]})}),e.jsx("div",{className:"mt-12 flex flex-wrap justify-center gap-8 opacity-40 grayscale hover:grayscale-0 transition-all",children:e.jsx("p",{className:"text-slate-500 text-sm italic",children:"* Your data is encrypted and handled by Korean certified visa consultants."})})]})]})};export{D as default};
